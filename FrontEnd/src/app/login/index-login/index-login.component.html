<div nz-row nzType="flex" nzJustify="center">
  <nz-card nz-col nzXs="22" nzSm="18" nzMd="14" nzLg="12" nzXl="10" [nzLoading]="loading">
    <h4 class="text-center">
      <b> {{ 'Login' | translate }} </b>
    </h4>
    <hr />
    <form nz-form [formGroup]="loginForm" (ngSubmit)="login()">
      <nz-spin [nzSpinning]="isLoading">
        <nz-dropdown nz-row nzType="flex" nzJustify="end">
          <a nz-button nz-dropdown>
            <span translate>{{ optionAccounts }}</span> <i nz-icon type="down"></i>
          </a>
          <ul nz-menu>
            <li nz-menu-item>
              <a (click)="optionAccount(true)" translate>Client</a>
            </li>
            <li nz-menu-item>
              <a (click)="optionAccount(false)" translate>Administator</a>
            </li>
          </ul>
        </nz-dropdown>
        <nz-form-item>
          <nz-form-control>
            <nz-input-group [nzPrefix]="prefixUser">
              <input
                type="text"
                nz-input
                formControlName="username"
                [placeholder]="'Username' | translate"
                autocomplete="username"
              />
            </nz-input-group>
            <div ngxErrors="username">
              <div *ngFor="let error of errors" [ngxError]="error.name" [when]="error.rules">
                <nz-form-explain translate class="errors">
                  {{ 'Username is required' | translate }}
                </nz-form-explain>
              </div>
            </div>
          </nz-form-control>
        </nz-form-item>
        <nz-form-item>
          <nz-form-control>
            <nz-input-group [nzPrefix]="prefixLock">
              <input
                type="password"
                nz-input
                formControlName="password"
                [placeholder]="'Password' | translate"
                autocomplete="password"
              />
            </nz-input-group>
            <div ngxErrors="password">
              <div *ngFor="let error of errors" [ngxError]="error.name" [when]="error.rules">
                <nz-form-explain translate class="errors">
                  {{ 'Password is required' | translate }}
                </nz-form-explain>
              </div>
            </div>
          </nz-form-control>
        </nz-form-item>
      </nz-spin>
      <nz-form-item>
        <nz-col [nzSpan]="12">
          <label nz-checkbox formControlName="remember">{{ 'Remember me' | translate }}</label>
        </nz-col>
      </nz-form-item>

      <nz-form-item>
        <nz-form-control>
          <button
            nz-button
            class="w-100"
            nzType="primary"
            nzShape="omitted"
            type="submit"
            [disabled]="loginForm.invalid || isLoading"
          >
            <i nz-icon type="login" theme="outline"></i> <span translate>Login</span>
          </button>
          <nz-form-explain *ngIf="isError" class="errors">
            {{ 'Username or password incorrect.' | translate }}
          </nz-form-explain>
        </nz-form-control>
      </nz-form-item>
    </form>
    <ng-template #prefixUser><i nz-icon type="user"></i></ng-template>
    <ng-template #prefixLock><i nz-icon type="lock"></i></ng-template>
    <nz-form-item>
      <span nz-row nzType="flex" nzJustify="center">
        <a [routerLink]="['/register']" routerLinkActive="router-link-active">{{ 'CreateAccount' | translate }}</a>
        <nz-divider nzType="vertical"></nz-divider>
        <a [routerLink]="['/forgot-password']" routerLinkActive="router-link-active" class="forgot forget-password"
          >{{ 'ForgotPassword' | translate }}
        </a>
      </span>
    </nz-form-item>
    <div nz-row nzType="flex" nzJustify="center">
      <ng-template ngFor let-lang [ngForOf]="languages" let-i="index">
        <nz-avatar
          *ngIf="lang === 'vn-VN'"
          nzIcon="user"
          nzSrc="../../assets/Images/Login/icon/Vietnam-Flag-icon.png"
          (click)="setLanguage(lang)"
        ></nz-avatar>
        <nz-avatar
          *ngIf="lang === 'en-US'"
          nzIcon="user"
          nzSrc="../../assets/Images/Login/icon/United-Kingdom-flag-icon.png"
          (click)="setLanguage(lang)"
        >
        </nz-avatar>
      </ng-template>
    </div>
    <div nz-row nzType="flex" nzJustify="center" nzAlign="top">
      <h6>v{{ version }}</h6>
    </div>
  </nz-card>
</div>
